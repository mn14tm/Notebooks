// STRAIGHT ABLATED GRID, TASK ONE - X-AXIS, TASK TWO - Y AXIS
// ***depth set by user not program (set to 70 um below dry focus plane)

// CHANGE THIS TO SAMPLE WIDTH IN mm.
#DEFINE SAMPLE_WIDTH 20
// CHANGE THIS TO THE GRID WIDTH in mm
#DEFINE DELTA_MINOR_AXIS 0.2
// CHANGE THIS TO SAMPLE LENGTH IN mm
#DEFINE SAMPLE_LENGTH 1

DVAR $delta_minor_axis $sample_width $sample_length 

INCREMENTAL
METRIC			// Distance unit = mm.
SECONDS			// Time unit = s.
G92 X0 Z0 		// Zero X and Z coordinate  
$sample_length = SAMPLE_LENGTH
$sample_width = SAMPLE_WIDTH
$delta_minor_axis = DELTA_MINOR_AXIS  
REPEAT 2
	REPEAT 3
		REPEAT 2
			LINEAR Z($sample_length) F1
			LINEAR X($delta_minor_axis) F1
			LINEAR Z($sample_length * -1) F1 
			LINEAR X($delta_minor_axis) F1    
		ENDRPT
			LINEAR X1 F5
	ENDRPT
	LINEAR Z2 F5
	REPEAT 3
		REPEAT 2
			LINEAR Z($sample_length) F1
			LINEAR X($delta_minor_axis * -1) F1
			LINEAR Z($sample_length * -1) F1 
			LINEAR X($delta_minor_axis * -1) F1    
		ENDRPT
	LINEAR X-1 F5
	ENDRPT
	LINEAR Z2 F5
ENDRPT	
M2

